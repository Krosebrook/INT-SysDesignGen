# Security Posture & Compliance

## Threat Model
The application operates as a client-side tool. The primary trust boundary is the user's device.

### Critical Assets
1. **API Keys**: Stored in `process.env`. Must not be leaked in client bundles (Note: For this demo, keys are assumed to be handled by the build environment).
2. **User PII**: Email and names stored in LocalStorage.
3. **Generated IP**: Architectural artifacts generated by the tool.

## Authentication System
*Note: The current implementation is a simulation for demonstration purposes.*

- **Algorithm**: Simulates `Argon2` hashing (currently `btoa` for demo).
- **Rate Limiting**: Enforces a strict 5-attempt limit per 15-minute window to prevent brute-force attacks.
- **Session**: LocalStorage-based session tokens.

## OWASP Top 10 Mitigations

| Vulnerability | Mitigation Strategy |
|---------------|---------------------|
| **Injection** | All LLM inputs are sanitized. `react-markdown` sanitizes HTML output. |
| **Sensitive Data Exposure** | `moderationService` automatically masks PII (Email, IP, Phone) before storage. |
| **Broken Access Control** | Governance gates restrict "High Risk" templates to specific roles during onboarding. |
| **Logging & Monitoring** | All moderation actions are recorded in an immutable audit log (`se_architect_moderation_audit`). |

## Reality Filtersâ„¢ (LLM Security)
To prevent "Jailbreaking" or unsafe generation:
1. **System Prompt Locking**: The `META_PROMPT` is injected as a `systemInstruction` and cannot be overridden by user input.
2. **Output Validation**: Quality gates check for specific safety markers in the generated text.

## Secrets Management
- **Development**: `.env` file (git-ignored).
- **Production**: Environment variables injected at build time.
- **Warning**: Never commit `API_KEY` to version control.
